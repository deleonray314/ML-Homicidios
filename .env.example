# ============================================================================
# ML-Homicidios - Environment Variables Template
# ============================================================================
# INSTRUCCIONES:
# 1. Copia este archivo como .env: cp .env.example .env
# 2. Rellena los valores con tus credenciales reales
# 3. NUNCA subas el archivo .env a Git (ya está en .gitignore)
# ============================================================================

# ----------------------------------------------------------------------------
# API Datos Abiertos Colombia
# ----------------------------------------------------------------------------
# IMPORTANTE: Los nombres de las variables DEBEN coincidir EXACTAMENTE
# con lo que espera Pydantic en settings.py (mayúsculas y guiones bajos)

# 1. Dataset de Homicidios
# Busca en: https://www.datos.gov.co/ → "homicidios"
# El ID está en la URL o sección API (formato: abcd-1234)
DATOS_ABIERTOS_HOMICIDIOS_ID=

# 2. Dataset DIVIPOLA Departamentos (División Político-Administrativa)
# Busca en: https://www.datos.gov.co/ → "divipola departamentos"
DATOS_ABIERTOS_DIVIPOLA_DEPARTAMENTOS_ID=

# 3. Dataset DIVIPOLA Municipios
# Busca en: https://www.datos.gov.co/ → "divipola municipios"
DATOS_ABIERTOS_DIVIPOLA_MUNICIPIOS_ID=

# URL base de la API (NO CAMBIAR)
DATOS_ABIERTOS_BASE_URL=https://www.datos.gov.co/resource/

# API Key (OPCIONAL - dejar vacío para usar API pública)
# La API pública tiene límite de ~1000 requests/día (suficiente para desarrollo)
DATOS_ABIERTOS_API_KEY=

# ----------------------------------------------------------------------------
# Docker - Configuración de Bases de Datos
# ----------------------------------------------------------------------------

# Data Lake - PostgreSQL (datos crudos)
DATALAKE_USER=datalake_user
DATALAKE_PASSWORD=datalake_password_2024
DATALAKE_DB=homicidios_datalake
DATALAKE_HOST=localhost
DATALAKE_PORT=5433

# Data Warehouse - PostgreSQL (modelo estrella)
DW_USER=dw_user
DW_PASSWORD=dw_password_2024
DW_DB=homicidios_dw
DW_HOST=localhost
DW_PORT=5434

# Adminer - Interfaz web de administración (más ligera que pgAdmin)
# No requiere configuración adicional

# ----------------------------------------------------------------------------
# Base de Datos - Configuración de Conexión (para la aplicación)
# ----------------------------------------------------------------------------
# Usa Data Lake por defecto para desarrollo
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5433
DB_NAME=homicidios_datalake
DB_USER=datalake_user
DB_PASSWORD=datalake_password_2024

# Para SQLite (alternativa simple):
# DB_TYPE=sqlite
# DB_PATH=./data/homicidios.db

# ----------------------------------------------------------------------------
# Data Paths
# ----------------------------------------------------------------------------
DATA_RAW_PATH=./data/raw
DATA_PROCESSED_PATH=./data/processed
MODELS_PATH=./data/models

# ----------------------------------------------------------------------------
# Model Configuration
# ----------------------------------------------------------------------------
# Modelo a usar: xgboost, lightgbm, random_forest
DEFAULT_MODEL=xgboost

# Hyperparameters (ejemplo para XGBoost)
MODEL_N_ESTIMATORS=100
MODEL_MAX_DEPTH=6
MODEL_LEARNING_RATE=0.1

# ----------------------------------------------------------------------------
# Logging
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=./logs/ml_homicidios.log
LOG_FORMAT=json  # json, text

# ----------------------------------------------------------------------------
# Cron Job Configuration
# ----------------------------------------------------------------------------
# Frecuencia de extracción de datos (cron syntax)

# Carga incremental de homicidios: Cada VIERNES a las 2 AM
# (Los datos nuevos se agregan mensualmente, viernes garantiza capturarlos)
DATA_EXTRACTION_SCHEDULE=0 2 * * 5

# Frecuencia de reentrenamiento de modelos: Cada DOMINGO a las 3 AM
MODEL_TRAINING_SCHEDULE=0 3 * * 0

# ----------------------------------------------------------------------------
# Streamlit Configuration
# ----------------------------------------------------------------------------
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=localhost

# ----------------------------------------------------------------------------
# MLflow (Opcional)
# ----------------------------------------------------------------------------
MLFLOW_TRACKING_URI=./mlruns
MLFLOW_EXPERIMENT_NAME=homicidios-prediction

# ----------------------------------------------------------------------------
# Feature Engineering
# ----------------------------------------------------------------------------
# Número de días para features de lag
LAG_DAYS=7,14,30,90

# Ventana para rolling averages
ROLLING_WINDOW=30

# ----------------------------------------------------------------------------
# Development/Production
# ----------------------------------------------------------------------------
ENVIRONMENT=development  # development, production
DEBUG=True
